<!DOCTYPE html>
  <html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
      <title>req 2</title>
      <!-- reference the css and CDN -->
      <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/esri/css/esri.css">
<script src="http://js.arcgis.com/3.9/"></script>
<script>

// load modules
var map;
   // [ ] = an array of modules available at js.arcgis.com
// function ( ) expects aliases for each module loaded, in same order as invoked in preceding array

require (["esri/map",
"esri/layers/FeatureLayer",
        "esri/symbols/SimpleLineSymbol",
        "esri/symbols/SimpleFillSymbol",
        "esri/symbols/TextSymbol",
        "esri/symbols/SimpleMarkerSymbol",
        "esri/renderers/SimpleRenderer",
        "esri/layers/LabelLayer",
        "dojo/_base/Color",
"dojo/domReady!"], function(
Map,FeatureLayer,
SimpleLineSymbol, SimpleFillSymbol, TextSymbol, SimpleMarkerSymbol,
SimpleRenderer,
         LabelLayer,
         Color
){
map = new Map("dubDiv", {

center: [-6.620, 53.332],
zoom: 10,
basemap: "national-geographic" // works
}); // end map init
// persisting with above means of init map rather than Extent box
//var labelField = "COUNTY_LINES"; // !! NB !! provided url lacks explicit 'Display Field Identifier'
// in the FeatureLayer constructor it is permissable to leave the outFields portion unspecified

// create a renderer
// establish renderer parameters
var countyColor = new Color("#444");
var bLines = new SimpleLineSymbol("solid", countyColor, 1.5);
var countySymbol = new SimpleFillSymbol("solid", bLines, null);
var countyRenderer = new SimpleRenderer(countySymbol);
var theURL = "http://services.arcgis.com/pMnvm7HXxTmNXxGi/arcgis/rest/services/Ireland_Counties/FeatureServer/0";

var countyL = new FeatureLayer(theURL, {id: "counties"});
countyL.setRenderer(countyRenderer);
map.addLayer(countyL);


// create another layer - default skeleton
// the ghost layer may require different renderer parameters
var ghostColor = new Color("#FF00CC");
var whiteLine = new SimpleLineSymbol("solid", new Color("#FF00CC"), 1);
var ghostSymbol = new SimpleFillSymbol("solid", whiteLine, ghostColor);
var ghostRenderer = new SimpleRenderer(ghostSymbol);
var ghostUrl = "https://webservices.myplan.ie/ArcGIS/rest/services/MyPlan/UnfinishedHousingSurvey2012/MapServer/1";

var gEstates = new FeatureLayer(ghostUrl, {
    //mode: FeatureLayer.MODE_ONDEMAND,
    outFields: ["Shape"] });
// cities.setDefinitionExpression("POP_RANK < 3");
// var ghostRenderer = new SimpleRenderer(new SimpleMarkerSymbol("solid", 10, whiteLine, ghostColor));
gEstates.setRenderer(ghostRenderer);
map.addLayer(gEstates);

}); // end require

</script>
<style>
html, body, #dubDiv {
padding: 0;
margin: 0;
height: 100%;
}
</style>
    </head>
    <body class="claro">
    <div id="dubDiv"></div>
  </body>
  </html>